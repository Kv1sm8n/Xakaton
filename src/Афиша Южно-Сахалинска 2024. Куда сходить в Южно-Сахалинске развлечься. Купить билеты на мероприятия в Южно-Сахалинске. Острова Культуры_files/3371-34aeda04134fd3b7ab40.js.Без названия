(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3371],{37813:function(e,t,a){"use strict";a.d(t,{V:function(){return V}});var r=a(64993),n=a(2784),s=a(39097),i=a(59259),c=a.n(i),_=a(62761),o=a(76635),d=a.n(o),l=a(38495),u=a(4565),m=a(26241),h=a(19034),v=a.n(h),p=a(48404),x=a.n(p),b=a(52322),j=function(e){var t=e.movie,a=t.genres,r=void 0===a?[]:a,n=t.creationYear,s=t.countries,i=void 0===s?[]:s,c=t.releaseDate;return(0,b.jsxs)("div",{className:x().container,children:[r.length>0&&(0,b.jsxs)("div",{className:x().row,children:[(0,b.jsx)("div",{className:x().label,children:"\u0416\u0430\u043d\u0440"}),(0,b.jsx)("div",{className:x().text,children:r.map((function(e){return e.name})).join(", ")})]}),n&&(0,b.jsxs)("div",{className:x().row,children:[(0,b.jsx)("div",{className:x().label,children:"\u0413\u043e\u0434"}),(0,b.jsx)("div",{className:x().text,children:n})]}),i.length>0&&(0,b.jsxs)("div",{className:x().row,children:[(0,b.jsx)("div",{className:x().label,children:"\u0421\u0442\u0440\u0430\u043d\u0430"}),(0,b.jsx)("div",{className:x().text,children:i.join(", ")})]}),c&&(0,b.jsxs)("div",{className:x().row,children:[(0,b.jsx)("div",{className:x().label,children:"\u0412 \u043a\u0438\u043d\u043e"}),(0,b.jsx)("div",{className:x().text,children:v()(c).format("\u0441 D MMMM YYYY")})]})]})},g=a(55766),k=a(73172),f=a(72779),y=a.n(f),N=a(3349),B=a(9207),w=a(29566),H=a(92847),M=a.n(H),T=a(27848),C=a(322),Y=a(79594),S=a(57709),I=a(36326),R=a(43059),W=a(34789),F=a(24082),D=a(51658),O=a(96271),P="astrakhan"===(0,T.i)().theme,G=function(e){var t=e.entity,a=e.entityId,r=e.entityType,s=n.useState(!1),i=(0,w.Z)(s,2),c=i[0],_=i[1],o=n.useState(!1),d=(0,w.Z)(o,2),l=d[0],u=d[1],m=(0,F.I0)(),h=(0,D.I)(),v=(0,C.T)(Y.Gb).user,p=(0,C.T)(R.MY).isFavorite,x=function(){var e;return!(!P||!I.Dd.includes(r))&&(r!==I.CE.Overviews||"obzor"===(null===t||void 0===t||null===(e=t.category)||void 0===e?void 0:e.sysName))}(),j=function(){h((0,R.Id)({entityId:a,entityType:I.M3[r]}))};n.useEffect((function(){v&&x&&j()}),[a,v,x]);var g=function(){var e=(0,B.Z)(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(!0),p){e.next=8;break}return e.next=4,h((0,R.Jh)({entityId:a,entityType:I.M3[r]}));case 4:e.sent.error||(m((0,W.A4)({content:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",type:"success"})),j()),e.next=12;break;case 8:return e.next=10,h((0,R.QJ)({entityId:a,entityType:I.M3[r]}));case 10:e.sent.error||(m((0,W.A4)({content:"\u0423\u0434\u0430\u043b\u0435\u043d\u043e \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e",type:"success"})),j());case 12:_(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return x?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(S.Q,{isOpen:l,setIsOpen:u}),(0,b.jsx)(O.$,{isFavorite:p,isLoading:c,onClick:function(){v?g():u(!0)}})]}):null},L=function(e){switch(e){case"events":return"\u0421\u043e\u0431\u044b\u0442\u0438\u044f";case"places":return"\u041c\u0435\u0441\u0442\u0430";case"routes":return d().capitalize(N.E.entitiesNames.routes.plural);case"touristroutes":return d().capitalize(N.E.entitiesNames.touristroutes.plural);case"overviews":return"\u041e\u0431\u0437\u043e\u0440\u044b";case"news":return"\u041d\u043e\u0432\u043e\u0441\u0442\u0438";case"regionvideos":return"\u041f\u041e\u0421\u041c\u041e\u0422\u0420\u0415\u0422\u042c \u0420\u0415\u0413\u0418\u041e\u041d";case"hotels":return"\u041e\u0442\u0435\u043b\u0438";case"restaurants":return"\u0420\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u044b";case"ticketsbundles":return"\u0430\u0431\u043e\u043d\u0435\u043c\u0435\u043d\u0442";case"movies":return"\u0430\u0444\u0438\u0448\u0430";case"artefacts":return"\u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u0430\u044f \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c";case"museums":return"\u0412\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u041c\u0443\u0437\u0435\u0438";case"halls":return"\u0412\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u0417\u0430\u043b\u044b";case"excursions":return"\u042d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u0438";case"tours":return"\u0422\u0443\u0440\u044b"}return""},E="astrakhan"===(0,T.i)().theme,V=function(e){var t=e.entity,a=e.goBack,n=e.goBackTitle,i=e.entityType,o=e.firstBreadCrumbLink,h=e.customBreadCrumb,p=e.customCategoryName,x=e.customBuyButton,f=[{media:"(min-width: 1200px)",width:600,height:400},{media:"(min-width: 768px) and (max-width: 1199px)",width:600,height:400},{media:"(max-width: 767px)",width:600,height:400}],B=(null===t||void 0===t?void 0:t.name)||"",w="ageRestriction"in t?t.ageRestriction:null,H=w||0===w,M=(null===t||void 0===t?void 0:t.description)||"",T="category"in t?t.category:null,C=null===t||void 0===t?void 0:t.image,Y="address"in t?t.address:null,S="gallery"in t?t.gallery:[],I="rating"in t?t.rating:null,R=S.length&&[C].concat((0,r.Z)(S))||[],W={infinite:!0,autoPlay:!0,autoPlaySpeed:5e3,pauseOnHover:!0,containerClass:c().react_multi_carousel_list};return(0,b.jsxs)("div",{className:c().event_header__wrapper,children:[(0,b.jsxs)("div",{className:c().event_header__crumbsWrapper,children:[(0,b.jsxs)("div",{className:c().event_header__breadcrumbs,children:[(0,b.jsx)("span",{className:c().event_header__breadcrumbs_type,children:(0,b.jsx)(s.default,{href:o||a,children:L(i)})}),T&&!h&&"regionvideos"!==i&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:c().event_header__breadcrumbs_divider}),(0,b.jsx)("span",{className:c().event_header__breadcrumbs_category,children:(0,b.jsx)(s.default,{href:"".concat(a,"/tag-").concat(T.sysName),children:p||(null===T||void 0===T?void 0:T.name)})})]}),Boolean(h)&&h.link&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:c().event_header__breadcrumbs_divider}),(0,b.jsx)("span",{className:c().event_header__breadcrumbs_category,children:(0,b.jsx)(s.default,{href:null===h||void 0===h?void 0:h.link,children:null===h||void 0===h?void 0:h.title})})]})]}),(0,b.jsx)("div",{className:c().event_header__return,children:(0,b.jsx)(s.default,{href:a,children:n})})]}),(0,b.jsxs)("div",{className:c().event_header__main,children:[(0,b.jsxs)("div",{className:c().event_header__infoWrapper,children:[(0,b.jsxs)("div",{className:c().event_header__typography,children:[(0,b.jsxs)("div",{className:c().event_header__type,children:[(0,b.jsx)("span",{children:p||(null!==T&&void 0!==T&&T.name?T.name:L(i))}),(0,b.jsxs)("div",{className:c().event_header__ageAndFavoriteContainer,children:[H&&(0,b.jsxs)("span",{className:c().event_header__age,children:[w,"+"]}),(0,b.jsx)("span",{children:(0,b.jsx)(G,{entityId:t._id,entityType:i,entity:t},t._id)})]})]}),(0,b.jsx)("h1",{className:c().event_header__title,children:B}),(0,b.jsx)("div",{className:y()("ticketsbundles"===i?c().event_header__expire:c().event_header__description),children:function(){switch(i){case"events":return M;case"places":return(0,g.K)(Y);case"routes":case"touristroutes":case"overviews":case"news":case"regionvideos":return M;case"hotels":case"restaurants":return(0,g.K)(Y);case"ticketsbundles":return"\u0418\u0441\u0442\u0435\u043a\u0430\u0435\u0442 ".concat(v()(t.end).format("D MMMM YYYY"));case"movies":return(0,b.jsx)("div",{className:c().event_header__description_movie,children:(0,b.jsx)(j,{movie:t})});case"museums":case"halls":return(0,g.K)(Y)}}()}),"hotels"===i&&I?(0,b.jsx)(u.i,{rating:I}):null,E&&"news"===i?(0,b.jsx)("div",{className:c().event_header__date,children:v().tz(t.updateDate,N.E.timezone).format("DD MMMM YYYY")}):null]}),"regionvideos"!==i&&(0,b.jsx)("div",{className:c().event_header__actionsWrapper,children:x||(0,b.jsx)(k.l,{entityType:i,entityId:t._id,dataTestId:"buy-button-header"})})]}),(0,b.jsx)("div",{className:c().event_header__galleryWrapper,children:R.length?(0,b.jsx)(l.l,{Buttons:(0,b.jsx)(_.G,{className:c().carouselButtons,buttonClassName:c().carouselButton}),carouselOptions:W,countable:!0,countClassStyle:c().carouselCount,children:d().map(R,(function(e){return(0,b.jsx)(m.C,{image:e,srcSet:f,useFullscreen:!0,carouselSlides:R},e.name)}))}):(0,b.jsx)(m.C,{className:c().wrapper,image:C,srcSet:f,useFullscreen:!0})})]})]})}},88946:function(e,t,a){"use strict";a.d(t,{j:function(){return T}});var r=a(2784),n=a(38495),s=a(48023),i=a.n(s),c=a(39097),_=a(19461),o=a(22917),d=a(16239),l=a.n(d),u=a(19034),m=a.n(u),h=a(85142),v=a(52322);function p(e){var t,a,n=e.entity,s=e.link,i=e.entityType,d=e.newTab,u=void 0!==d&&d,p=(0,r.useState)(!1),x=p[0],b=p[1];return(0,v.jsx)(c.default,{href:"".concat(s,"/").concat(n._id,"/").concat(n.sysName),passHref:!0,children:(0,v.jsx)("a",{target:u?"_blank":void 0,children:(0,v.jsxs)("div",{className:l().wrapper,onMouseOver:function(){return b(!0)},onMouseLeave:function(){return b(!1)},children:[(0,v.jsx)("div",{className:l().badge,children:"ticketsbundles"===i?"\u0430\u0431\u043e\u043d\u0435\u043c\u0435\u043d\u0442":"streams"===i?"\u0442\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0438\u0438":null===(t=n.category)||void 0===t?void 0:t.name}),(0,v.jsx)(o.t,{className:l().image,srcSet:[{media:"(min-width: 0px)",width:270,height:241,cropMode:"noCrop"}],image:n.image}),(0,v.jsxs)("div",{className:l().info,children:["ticketsbundles"===i&&(0,v.jsx)("div",{className:l().expire,children:"\u0418\u0441\u0442\u0435\u043a\u0430\u0435\u0442 ".concat(m()(n.end).format("D MMMM YYYY"))}),"streams"===i&&(0,v.jsx)("div",{className:l().streams_date,children:m()(n.start).format("D MMMM YYYY, H:mm")}),(0,v.jsx)(_.Z,{text:n.name,maxLine:x?4:3,ellipsis:"...",trimRight:!0,basedOn:"letters",className:l().title}),"ticketsbundles"===i&&(0,v.jsx)("p",{className:l().price,children:(0,h.O)(n.minPrice,n.maxPrice)}),"places"===i&&(null===n||void 0===n||null===(a=n.ticketsInfo)||void 0===a?void 0:a.available)>0&&(0,v.jsx)("p",{className:l().price,children:(0,h.O)(n.ticketsInfo.minPrice,n.ticketsInfo.maxPrice)})]})]})})})}var x=a(62761),b=a(27888),j=a(17186),g=a(72779),k=a.n(g),f=a(55311),y=a(11902),N=a(530),B=a(59901),w=a(44930),H=a.n(w),M=function(e){var t=e.title,a=e.goTo,r=e.pushkinPage,n=void 0!==r&&r,s="mobile"===(0,B.Q)()&&t?"\u0412\u0441\u0435":t;return(0,v.jsx)(c.default,{href:a,passHref:!0,children:(0,v.jsx)("a",{className:H().goToHref,children:s&&(0,v.jsxs)("button",{className:k()(H().button,n&&H().pushkinButton),children:[(0,v.jsx)("div",{className:H().text,children:s}),(0,f.n)({bel:(0,v.jsx)(y.gT,{}),default:(0,v.jsx)(N.LZ,{})})]})})})};function T(e){var t=e.data,a=e.title,r=e.goTo,s=e.goToTitle,c=e.entityType,_=e.pushkinPage,o=void 0!==_&&_,d=e.theme,l=void 0===d?null:d,u=e.newTab,m=void 0!==u&&u,h={responsive:{desktop1:{breakpoint:{max:9999,min:1200},items:4},tablet2:{breakpoint:{max:1150,min:1020},items:3,partialVisibilityGutter:50},tablet3:{breakpoint:{max:1020,min:900},items:3},tablet4:{breakpoint:{max:900,min:700},items:2,partialVisibilityGutter:50},mobile:{breakpoint:{max:699,min:0},items:1,partialVisibilityGutter:80}},swipeable:!0,infinite:!0,renderButtonGroupOutside:!0,partialVisible:!0,sliderClass:i().carouselTrack},g=t.map((function(e){switch(c){case"events":return(0,v.jsx)(b.K,{event:e,type:"small",theme:l},e._id);case"movies":return(0,v.jsx)(j.u,{movie:e,type:"small"},e._id);default:return(0,v.jsx)(p,{entity:e,entityType:c,link:r,newTab:m},e._id)}}));return g&&0!==g.length?(0,v.jsxs)("div",{className:i().wrapper,children:[(0,v.jsxs)("div",{className:i().header,children:[(0,v.jsx)("h2",{className:i().title,children:a}),(0,v.jsx)(M,{title:s,pushkinPage:o,goTo:r})]}),(0,v.jsx)("div",{className:i().cardsCarousel,children:(0,v.jsx)(n.l,{Buttons:g.length>4&&(0,v.jsx)(x.G,{className:i().carouselButtons}),carouselOptions:h,children:g})})]}):(0,v.jsx)(v.Fragment,{})}},59259:function(e){e.exports={event_header__wrapper:"HeaderBlock_event_header__wrapper__1evFy",event_header__crumbsWrapper:"HeaderBlock_event_header__crumbsWrapper__1KO-V",event_header__ageAndFavoriteContainer:"HeaderBlock_event_header__ageAndFavoriteContainer__bOE6Z",event_header__type:"HeaderBlock_event_header__type__Ignb0",event_header__age:"HeaderBlock_event_header__age__3rCYP",event_header__title:"HeaderBlock_event_header__title__2qSbD",event_header__description:"HeaderBlock_event_header__description__Ii8Hw",event_header__description_movie:"HeaderBlock_event_header__description_movie__3JH8_",event_header__date:"HeaderBlock_event_header__date__3YEIx",event_header__expire:"HeaderBlock_event_header__expire__FJUnM",event_header__actionsWrapper:"HeaderBlock_event_header__actionsWrapper__Z9FJb",event_header__actions:"HeaderBlock_event_header__actions__3_bGI",event_header__actionsInner:"HeaderBlock_event_header__actionsInner__3VCXr",event_header__buttonPay:"HeaderBlock_event_header__buttonPay__2qpVi",event_header__hint:"HeaderBlock_event_header__hint__2r2W_",event_header__return:"HeaderBlock_event_header__return__2RVRL",event_header__breadcrumbs:"HeaderBlock_event_header__breadcrumbs__2WXu-",event_header__breadcrumbs_divider:"HeaderBlock_event_header__breadcrumbs_divider__B18IA",event_header__infoWrapper:"HeaderBlock_event_header__infoWrapper__22Q8K",event_header__galleryWrapper:"HeaderBlock_event_header__galleryWrapper__2xDo2",carouselButtons:"HeaderBlock_carouselButtons__Mrwmt",carouselButton:"HeaderBlock_carouselButton__25Xpb",carouselCount:"HeaderBlock_carouselCount__2F8Uw",wrapper:"HeaderBlock_wrapper__unarH",react_multi_carousel_list:"HeaderBlock_react_multi_carousel_list__3r2T0",event_header__main:"HeaderBlock_event_header__main__2xWGE"}},48404:function(e){e.exports={container:"MovieHeaderDescription_container__3bxuB",row:"MovieHeaderDescription_row__EFPlj",label:"MovieHeaderDescription_label__22WY9",text:"MovieHeaderDescription_text__NXota"}},16239:function(e){e.exports={wrapper:"RecommendationsSingle_wrapper__2IfMy",info:"RecommendationsSingle_info__2Q8GP",expire:"RecommendationsSingle_expire__1tvyU",price:"RecommendationsSingle_price__2eWmF",title:"RecommendationsSingle_title__3QTUA",badge:"RecommendationsSingle_badge__3CfgN",image:"RecommendationsSingle_image__3QZG1",streams_date:"RecommendationsSingle_streams_date__3jGOd"}},48023:function(e){e.exports={title:"RecommendatiosBlock_title__19WUW",wrapper:"RecommendatiosBlock_wrapper__1b4wL",header:"RecommendatiosBlock_header__1xG-7",carouselTrack:"RecommendatiosBlock_carouselTrack__3LunB",cardsCarousel:"RecommendatiosBlock_cardsCarousel__3EFoq",carouselButtons:"RecommendatiosBlock_carouselButtons__6_aiR"}},44930:function(e){e.exports={buttonText:"SectionLink_buttonText__3HMfv",button:"SectionLink_button__2yJxA",text:"SectionLink_text__19okZ",goToHref:"SectionLink_goToHref__3auXa",pushkinButton:"SectionLink_pushkinButton__1e23V"}}}]);
//# sourceMappingURL=3371-34aeda04134fd3b7ab40.js.map